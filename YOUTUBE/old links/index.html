<!DOCTYPE html>
<html>
<head>
  <title>Randomized Data</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #333;
      color: #fff;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
      background-color: #424242;
      border: 1px solid #ccc;
      border-radius: 4px;
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
    }

    .title-image {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 20px;
      color: rgb(245, 89, 89);
    }

    .title-image img {
      width: 50px;
      margin-right: 10px;
    }

    .generate-btn {
      background-color: #ff8300;
      color: #fff;
      padding: 10px 20px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-right: 10px;
    }

    .generate-btn:not([disabled]):hover {
      background-color: #ff8300;
    }

    .model-buttons {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
    }

    .data-list {
      list-style-type: none;
      padding: 0;
      margin-top: 0;
    }

    .data-list-item {
      margin-bottom: 10px;
      padding: 10px;
      background-color: #525252;
      border-radius: 4px;
      display: flex;
      align-items: center;
    }

    .data-list-item span {
      flex-grow: 1;
      overflow-wrap: break-word;
    }

    .copy-btn,
    .open-link-btn,
    .open-all-btn {
      background-color: #6f42c1;
      color: #fff;
      padding: 5px 10px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      margin-left: 10px;
      font-size: 14px;
    }

    .copy-btn:hover,
    .open-link-btn:hover,
    .open-all-btn:hover {
      background-color: #4a2888;
    }

    .open-all-btn {
      display: none; 
    }

    .text-above {
      margin-bottom: 20px;
      text-align: center;
    }
    
    /* Responsive Styles */
    
    @media only screen and (max-width: 600px) {
      .container {
        padding: 10px;
      }
      .title-image img {
        width: 40px;
      }
      .generate-btn {
        padding: 8px 15px;
      }
      .copy-btn,
      .open-link-btn,
      .open-all-btn {
        font-size: 12px;
        padding: 3px 8px;
      }
    }

    .copy-btn.copied {
      background-color: green;
    }

    .input-container {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }

    .input-container label {
      margin-right: 10px;
    }

    .input-container input[type="number"] {
      flex-grow: 1;
      padding: 8px 12px;
      border: 1px solid #ccc;
      border-radius: 4px;
      background-color: #525252;
      color: #fff;
      font-size: 14px;
    }

    .input-container button {
      background-color: #ff8300;
      color: #fff;
      padding: 8px 15px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }

    .input-container button:hover {
      background-color: #ff6d00;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1 class="title-image">
      <img src="yt.png" alt="Title Image">
      SMC OLD YOUTUBE LINKS  
    </h1>
    <p class="text-above">Backup Links.</p>
    <div id="lastModified"></div>

    <div class="model-buttons">
      <button id="randomizeBtn" class="generate-btn">Generate Links</button>
    </div>
    <button id="resetBtn" class="generate-btn" style="display: none;">Reset</button>

    <div class="input-container">
      <label for="numItemsInput">Number of Items to Display:</label>
      <input type="number" id="numItemsInput" min="1" max="10" value="5" />
      <button id="generateBtn" class="generate-btn">Generate Links</button>
    </div>
    
    <ul id="dataList" class="data-list"></ul>
  
    <div id="progressBar" class="progress-bar"></div>
    <div id="messageContainer"></div> <!-- Added messageContainer element -->
  </div>
  <script>
// JavaScript code here

    // Add event listener to the randomize button
    const randomizeBtn = document.getElementById('randomizeBtn');
    const resetBtn = document.getElementById('resetBtn');
    const generateBtn = document.getElementById('generateBtn');

    randomizeBtn.addEventListener('click', async () => {
      try {
        // Fetch the data for Model 1
        let data = [];
        const storedData = localStorage.getItem('randomizedData');
        
        if (storedData) {
          data = JSON.parse(storedData);
        } else {
          data = await fetchData('ytoldlinks.txt');
          localStorage.setItem('randomizedData', JSON.stringify(data));
        }

        // Randomize the data
        const randomizedData = shuffleArray(data);

        // Display the randomized data without duplicates
        displayRandomData(randomizedData);
      } catch (error) {
        console.error('Error:', error);
      }
    });

    resetBtn.addEventListener('click', () => {
      localStorage.removeItem('randomizedData');
      location.reload();
    });

    generateBtn.addEventListener('click', async () => {
      try {
        const data = await fetchData('ytoldlinks.txt');
        const randomizedData = shuffleArray(data);
        displayRandomData(randomizedData);
      } catch (error) {
        console.error('Error:', error);
      }
    });

    // Fetch the data from the desired source
    async

    // Fetch the data from the desired source
    async function fetchData(url) {
      const response = await fetch(url);
      const text = await response.text();
      return text.split('\n');
    }

    // Shuffle array using Fisher-Yates algorithm
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    // Display randomized data
    function displayRandomData(data) {
      const numItemsInput = document.getElementById('numItemsInput');
      const numItems = parseInt(numItemsInput.value);

      const dataList = document.getElementById('dataList');
      dataList.innerHTML = '';

      for (let i = 0; i < numItems; i++) {
        const item = document.createElement('li');
        item.innerText = data[i];
        dataList.appendChild(item);
      }
    }
  </script>
</body>
</html>
